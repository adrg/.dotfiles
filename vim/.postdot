#!/usr/bin/env bash

vimplug_path="$DOTFILES_DIR/vim/vim/autoload/plug.vim"
if [[ -f "$vimplug_path" ]]; then
    info "vim-plug already installed"
    exit 0
fi

to_install=$(check_installed curl)
if [[ ! -z $to_install ]]; then
    sudo apt-get install $to_install
    if [[ $? -ne 0 ]]; then
        fail "Could not install $to_install. Aborting."
    fi

    success "$to_install successfully installed"
else
    info "curl already installed"
fi

# Download vim plugin manager
curl --create-dirs -sSf -o "$vimplug_path" \
     https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim
if [[ $? -ne 0 ]]; then
    fail "Could not download vim-plug. Aborting."
fi

success "vim-plug successfully installed"
